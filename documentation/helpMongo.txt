show dbs									- базы данных
show collections							- коллекции
db.createCollection("name_collection")		- создать коллекцию
db."name_collection".remove()				- удалит из коллекции все элементы
db."name_collection".find()					- покажет все элементы
db."name_collection".drop()					- удалит коллекцию
db."name_collection".insert({_element_})	- добавить элемент
db."name_collection".ensureIndex(_index_)	- создать индекс
db."name_collection".update()				- обновить элемент


Ссылки:
http://habrahabr.ru/post/74273/
http://habrahabr.ru/post/103699/
http://ru.wiki.mongodb.org/display/DOCS/Manual

Как установить mongodb из AWS Market Place.

- найти образ на амазоне и запустить.
В  продакшене используется такой: https://aws.amazon.com/marketplace/pp/B0087GMEQ2/ref=srh_res_product_title?ie=UTF8&sr=0-3&qid=1362476550209
MongoDB with EBS RAID
Sold by: 10gen

Для настройки и работы MongoDB требуется в Security Group разрешить следующие порты:
TCP 22
TCP 27017
Поскольку бд используется только внутри VPC, порты можно открывать только для тех security group из которых будет доступ к бд.

Далее зайти на машину по SSH и выполнить следующие команды:
$ sudo chkconfig mongod on
$ sudo /etc/init.d/mongod start
Информация от сюда http://docs.mongodb.org/ecosystem/tutorial/install-mongodb-on-amazon-ec2/#starting-mongodb

Для конфигурирования БД для совместного редактирования необходимо выполнить следующие команды
mongo coAuthoring
> db.createCollection("messages")
> db.messages.ensureIndex({"docid":1})
> db.createCollection("changes")
> db.changes.ensureIndex({"docid":1})
> exit

В продакшене БД находится в приватной под -сети и доступ к ней есть только c машин находящимися внутри VPC. Доступа к такой машине можно осуществить через сервера коавторинга, которые доступны из вне. Особенности такого доступа описаны ниже.

Особенности работы по SSH с линуксовой машины на Amazon'e
Для работы необходим амазоновский ключ(Key Pair).
Кладем ключ в произвольную папку на удаленной машине(сервер коавторинга) например /home/root/cert/key_pair.pem (сделать это можно по SFTP)
изменяем доступ к ключу:
chmod 600 /home/root/cert/key_pair.pem (сделать это также можно по SFTP)
коннектимся по SSH:
ssh internal_ip -i /home/root/cert/key_pair.pem -l ec2-user

